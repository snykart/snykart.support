name: Smart Auto Reply to Issues

on:
  issues:
    types: [opened]

permissions:
  issues: write
  contents: read

jobs:
  smart-reply:
    runs-on: ubuntu-latest
    steps:
      - name: Determine reply
        id: detect
        run: |
          issue_body="${{ github.event.issue.body }}"

          if echo "$issue_body" | grep -qi "wallet"; then
            echo "message=Thank you for reaching out regarding your **wallet issue**. Our support team will assist you shortly." >> $GITHUB_OUTPUT

          elif echo "$issue_body" | grep -qi "reset\|password"; then
            echo "message=It looks like you're having a **password/reset-related issue**. Please follow our recovery steps or contact support for immediate help." >> $GITHUB_OUTPUT

          elif echo "$issue_body" | grep -qi "bug"; then
            echo "message=Thanks for reporting a **bug**. Our technical team will review and follow-up." >> $GITHUB_OUTPUT

          else
            echo "message=Thank you for submitting your issue. Our support team will triage it shortly." >> $GITHUB_OUTPUT
          fi

      - name: Post comment
        uses: peter-evans/create-or-update-comment@v4
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          issue-number: ${{ github.event.issue.number }}
          body: |
            ðŸ‘‹ Automated Support Response

            ${{ steps.detect.outputs.message }}

            **For faster help**, contact:
            - Email: GitHub.interact@gmail.com
            - Web Support: https://git-cryptoresolvehub.web.app/

            â€” GitHub Interact Team ðŸš€
